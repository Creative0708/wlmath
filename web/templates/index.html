{% extends "base.html" %}
{% load markdown %}

{% block content %}
<div class="grid grid-cols-[4fr_2fr] gap-16 max-w-[80rem] mx-auto my-5">
	<div class="overflow-y-auto">
		<div class="border-b-[6px] border-r-4 border-wlblue p-4 bg-slate-900">
			<h1 class="font-bold text-8xl mb-4 tracking-tight">WLMath</h1>
			<div class="no-preflight">
				{{ content.content_markdown | markdownify }}
			</div>
		</div>
		<div class="border-2 border-wlblue mt-1"></div>

		<div class="mt-2 space-y-4">
			{% for announcement in announcements %}
			<div class="border-b-[6px] border-r-4 border-wlblue p-4 bg-slate-900">
				<div>
					<p class="text-3xl">{{ announcement.title }}</p>
					<p class="text-sm">Posted on {{ announcement.creation_date }}</p>
					{% if announcement.creation_date != announcement.last_edit_date %}
						<p class="text-sm">Last edited on {{ announcement.last_edit_date }}</p>
					{% endif %}
				</div>

				<div class="no-preflight">
					{{ announcement.content | markdownify}}
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
	<div class="space-y-10">
		<fieldset class="bg-slate-900 border-t-4 border-wlblue mt-[-.5lh] px-8 py-2">
			<legend class="font-bold ml-4 px-2">new problems</legend>
			<ul class="list-disc">
				{% for problem in recent_problems %}
				<li>
					<a href="{{ problem.url }}">{{ problem.title }}</a>
					<span class="text-slate-500 float-right">{{ problem.date_added | date:"Y/m/d" }}</span>
				</li>
				{% endfor %}
			</ul>
		</fieldset>
		<fieldset class="bg-slate-900 border-t-4 border-wlblue mt-[-.5lh] px-8 py-2">
			<legend class="font-bold ml-4 px-2">top problems</legend>
			<ul class="list-disc">
				{% for problem in top_problems %}
				<li>
					<a href="{{ problem.url }}">{{ problem.title }}</a>
					<span class="text-slate-500 float-right">{{ problem.submission_count }} submission(s) </span>
				</li>
				{% endfor %}
			</ul>
		</fieldset>
		<fieldset class="bg-slate-900 border-t-4 border-wlblue mt-[-.5lh] px-8 py-2">
			<legend class="font-bold ml-4 px-2">problem of the day</legend>
			<div class="my-4">
				<span class="w-max">
					Problem of the day:
				</span>
				<a class="float-right" href="/problems/test2">Problem 2</a>
			</div>
		</fieldset>
	</div>
</div>
{% endblock content %}