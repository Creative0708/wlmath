{% load static %}
<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="{% static 'generated.css' %}" />
		{% block head %}{% endblock %}
		<script src="/static/base.js" defer></script>
	</head>
	<body class="bg-slate-950 text-slate-200 flex flex-col min-h-screen">
		<nav
			class="h-10 px-4 py-2 flex gap-4 items-center bg-wlblue"
		>
			<a href="/" class="font-bold">wlmath</a>
			<div class="h-full border-current border"></div>
			<a href="/problems/">problems</a>
			<a href="/users/">users</a>
			<a href="">other</a>
			<a href="/">stuff</a>

			{% if user.is_anonymous %}
			<a href="{% url 'login' %}?next={{ request.path }}" class="ml-auto">login</a>
			{% else %}
			<div class="ml-auto pr-16 relative">
				<span class="text-slate-300">
					logged in as {{ user.username }}
				</span>
				<details class="absolute right-0 top-0 text-right bg-transparent open:bg-slate-900/75 duration-150 p-4 w-28 m-[-1rem] select-none">
					<summary class="in-open:text-slate-400 in-open:mb-2 not-in-open:hover:underline ease-out transition-[margin,background-color] cursor-pointer" onblur="setTimeout(() => event.target.parentElement.open = false, 100)">logout</summary>
					you sure?
					<form action="{% url 'logout' %}?next={{ request.path }}" method="POST" class="ml-4">
						{% csrf_token %}
						<button type="submit" class="underline cursor-pointer">yes</button>
					</form>
				</details>
			</div>
			{% endif %}
		</nav>
		<main class="flex items-center flex-col grow p-16">
			{% block content %}{% endblock %}
		</main>
	</body>
</html>
